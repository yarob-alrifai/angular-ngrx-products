import './polyfills.server.mjs';
import{c as X}from"./chunk-DIDRTW3Y.mjs";import{A as St,B as It,C as wt,D as $,E as R,F as _,G as Tt,H as kt,I as Ft,J as Et,K as Ot,L as Dt,a as E,b as ot,c as O,d as D,e as rt,f as nt,g as c,h as at,i as I,j as st,k as mt,l as pt,m as dt,n as ct,o as lt,p as ut,q as ft,r as gt,s as vt,t as ht,u as bt,v as yt,w as Mt,x as Ct,y as xt,z as Pt}from"./chunk-TUZBJYHQ.mjs";import{$ as b,$b as V,Aa as y,Ab as F,Dc as Z,Fc as tt,Gc as et,Hc as it,Ic as C,La as M,Na as d,S as h,Xa as n,Ya as s,Za as f,Zb as z,_ as u,_b as S,bb as H,db as W,dc as G,ec as K,g as x,mc as U,nb as g,ob as q,pb as P,qc as Y,rc as J,vb as T,xb as k,ya as A,za as a,zc as Q}from"./chunk-WABBGMOC.mjs";import{a as m,b as p}from"./chunk-VVCT4QZE.mjs";var j=(()=>{let t=class t{constructor(o){this.dialog=o}openDialog(o){let i=this.dialog.open(R,{data:{item:o}})}};t.\u0275fac=function(i){return new(i||t)(y(St))},t.\u0275cmp=u({type:t,selectors:[["app-item-product"]],inputs:{item:"item"},decls:20,vars:13,consts:[[1,"items-center","grid","antialiased","text-gray-900"],[3,"click"],["alt"," random imgee",1,"w-full","h-40","object-cover","object-center","rounded-lg","shadow-md",3,"src"],[1,"relative","px-2","-mt-10"],[1,"px-2","pt-2","pb-2","bg-white","drop-shadow-md","rounded-xl","min-h-28","flex-col","grid","content-between"],[1,"flex","justify-between","items-center"],[1,"bg-slate-300","rounded-md","px-1"],[1,"text-red-500"],[1,"text-sm","font-extrabold"],[1,"text-green-600","text-xs"],[1,"text-gray-900","text-xl"],[1,"text-gray-500","text-left"]],template:function(i,r){i&1&&(n(0,"div",0)(1,"div",1),H("click",function(){return r.openDialog(r.item)}),f(2,"img",2),n(3,"div",3)(4,"div",4)(5,"div")(6,"div",5)(7,"span",6),g(8),s(),n(9,"div",7)(10,"span",8),g(11),s(),n(12,"span",9),g(13,"\u20AC"),s()()(),n(14,"div",10),g(15),k(16,"slice"),s(),n(17,"p",11),g(18),k(19,"slice"),s()()()()()()),i&2&&(a(2),d("src",r.item.imageUrl,A),a(6),q(r.item.category),a(3),P(" ",r.item.price," "),a(4),P(" ",r.item.name.length>14?F(16,5,r.item.name,0,14)+"..":r.item.name," "),a(3),P(" ",r.item.description.length>50?F(19,9,r.item.description,0,50)+"...":r.item.description," "))},dependencies:[G]});let e=t;return e})();function Nt(e,t){if(e&1&&(n(0,"div"),f(1,"app-item-product",4),s()),e&2){let l=t.ngIf;a(),d("item",l)}}function At(e,t){if(e&1&&(n(0,"div",2),M(1,Nt,2,1,"div",3),s()),e&2){let l=t.$implicit;a(),d("ngIf",l)}}var B=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-list-item-product"]],inputs:{products:"products"},decls:2,vars:1,consts:[[1,"grid","grid-cols-2","mx-auto","md:grid-cols-3","xl:grid-cols-4","gap-4"],["class","  ",4,"ngFor","ngForOf"],[1,""],[4,"ngIf"],[3,"item"]],template:function(i,r){i&1&&(n(0,"div",0),M(1,At,2,1,"div",1),s()),i&2&&(a(),d("ngForOf",r.products))},dependencies:[S,V,j]});let e=t;return e})();function Wt(e,t){if(e&1&&(n(0,"div")(1,"mat-tab",2)(2,"div",3),f(3,"app-list-item-product",4),s()()()),e&2){let l=t.$implicit,o=W();a(),d("label",l),a(2),d("products",o.productsWithCategory[l])}}var N=(()=>{let t=class t{constructor(o){this.storeProduct$=o,this.subscriptions=[],this.products$=x,this.loading$=x,this.error$=x,this.productsWithCategory={}}ngOnInit(){this.storeProduct$.dispatch(I()),this.products$=this.storeProduct$.select(bt),this.loading$=this.storeProduct$.select(yt),this.error$=this.storeProduct$.select(Mt);let o=this.products$.subscribe(i=>i.forEach(r=>{this.productsWithCategory[r.category]||(this.productsWithCategory[r.category]=[]),this.productsWithCategory[r.category].push(r)}));this.subscriptions.push(o)}objectKeys(o){return Object.keys(o)}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}};t.\u0275fac=function(i){return new(i||t)(y(rt))},t.\u0275cmp=u({type:t,selectors:[["app-products"]],decls:2,vars:1,consts:[["dynamicHeight",""],[4,"ngFor","ngForOf"],[1,"bg-gray-500",3,"label"],[1,"p-10"],[1,"example-large-box","mat-elevation-z4",3,"products"]],template:function(i,r){i&1&&(n(0,"mat-tab-group",0),M(1,Wt,4,2,"div",1),s()),i&2&&(a(),d("ngForOf",r.objectKeys(r.productsWithCategory)))},dependencies:[S,Ct,xt,B]});let e=t;return e})();var qt=[{path:"products",component:N},{path:"admin",loadChildren:()=>import("./chunk-P6RBTJL6.mjs").then(e=>e.AdminModule)},{path:"",redirectTo:"/products",pathMatch:"full"}],$t=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=b({type:t}),t.\u0275inj=h({imports:[K,C.forRoot(qt),C]});let e=t;return e})();var Rt=e=>({"active-button":e}),_t=(()=>{let t=class t{constructor(o){this.router=o}isActive(o){return this.router.url.startsWith(o)}};t.\u0275fac=function(i){return new(i||t)(y(tt))},t.\u0275cmp=u({type:t,selectors:[["app-navbar"]],decls:7,vars:6,consts:[["color","primary",1,"mat-elevation-z8","fixed-toolbar"],[1,"container"],[1,"spacer"],["mat-button","","routerLink","/products","routerLinkActive","active",3,"ngClass"],["mat-button","","routerLink","/admin","routerLinkActive","active",3,"ngClass"]],template:function(i,r){i&1&&(n(0,"mat-toolbar",0)(1,"div",1),f(2,"span",2),n(3,"button",3),g(4,"Products"),s(),n(5,"button",4),g(6,"Admin"),s()()()),i&2&&(a(3),d("ngClass",T(2,Rt,r.isActive("/products"))),a(2),d("ngClass",T(4,Rt,r.isActive("/admin"))))},dependencies:[z,wt,et,it,ot],styles:[".content[_ngcontent-%COMP%]{margin-top:64px}.active-button[_ngcontent-%COMP%]{background-color:#550dc2;color:#fff}.fixed-toolbar[_ngcontent-%COMP%]{position:sticky;top:0;width:100%;z-index:1000}.active-button[_ngcontent-%COMP%]{background-color:#fff3}"]});let e=t;return e})();var w=(()=>{let t=class t{constructor(){this.title="ngrx-demo"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(i,r){i&1&&f(0,"app-navbar")(1,"router-outlet")},dependencies:[Z,_t]});let e=t;return e})();var Gt={products:[],loading:!1,error:null},Lt=at(Gt,c(I,e=>p(m({},e),{loading:!0})),c(st,(e,{items:t})=>p(m({},e),{loading:!1,products:t})),c(mt,(e,{error:t})=>p(m({},e),{loading:!1,error:t})),c(pt,e=>p(m({},e),{loading:!0})),c(dt,(e,{productId:t})=>p(m({},e),{products:e.products.filter(l=>l.id!==t)})),c(ct,(e,{error:t})=>p(m({},e),{loading:!1,error:t})),c(lt,e=>p(m({},e),{loading:!0})),c(ut,(e,{updatedProduct:t})=>p(m({},e),{products:e.products.map(l=>l.id===t.id?m(m({},l),t):l),loading:!1,error:null})),c(ft,(e,{error:t})=>p(m({},e),{loading:!1,error:t})),c(gt,e=>p(m({},e),{loading:!0,error:null})),c(vt,(e,{newProduct:t})=>p(m({},e),{products:[...e.products,t],loading:!1})),c(ht,(e,{error:t})=>p(m({},e),{loading:!1,error:t})));var Kt=[Q,Ft,$,C,_,Et,Pt,It,D,O,E];var jt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=b({type:t,bootstrap:[w]}),t.\u0275inj=h({providers:[J()],imports:[Kt,Dt,U,Ot,Y,$t,nt.forRoot({product:Lt}),Tt.forRoot([kt]),O,$,D,_,E]});let e=t;return e})();var Ut=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=b({type:t,bootstrap:[w]}),t.\u0275inj=h({imports:[jt,X]});let e=t;return e})();export{Ut as a};
